<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DTC</title>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class=flashes>
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    {% block body %}{% endblock %}

    Site navigation: <a href="/">Start page</a> | <a href="subsystem">Add a vehicle subsystems</a> | <a href="suspectcomponents">Add a component</a>.
</head>
<body>
  <form method="POST">
      {{ form.csrf_token }}
      <br>
      <h2>Add a new DTC instance to the knowledge graph:</h2>
      <br>
      {{ form.dtc_name.label }} {{ form.dtc_name(size=20) }} <br>
      <br>
        Please list other DTCs that often occur together with the given DTC:
      <br>
      <div>{{form.occurs_with.label}} {{form.occurs_with}} {{form.occurs_with_submit}} {{form.clear_occurs_with}} </div>
      <br>
      {%for i in occurs_with_DTCs%}
        {{i}},
      {%endfor%}</p>
      <br>
      Please describe the fault condition for the DTC:
      {{form.faultcondition}}
      <br> <br>
      {%for i in form.chosen_symptoms%}
        {{i}},
      {%endfor%}</p> <br>
      <br>
      Please choose symptoms of the faultcondition:
      <br>
      <div>{{ form.symptoms.label }} {{ form.symptoms }} {{form.symptoms_submit}} {{form.clear_symptoms}}</div>
      <br>
      If there is a symptom that are not in the list, please add it in the textfield below:
      <br>
      <div>{{ form.new_symptom.label }} {{form.new_symptom}} {{form.new_symptom_submit}}</div>
      <br>
      <p color=blue style>
      {%for i in symptoms%}
        {{i}},
      {%endfor%}</p> <br>
      <br><br>
      Please list the components that should be checked. Please list them in the right order - the ones that come first in the list should be the ones that should be checked first. If you want to add a component that is not in this list, please add it via <a href="suspectcomponents">this</a> form and afterwards select it in the list here.
      <br>

      <div>{{ form.suspectComponents_selectField.label }} {{form.suspectComponents_selectField}} {{form.add_component_submit}} {{form.clear_components}} </div>
      <p color=blue style>
      {%for i in suspectComponents%}
        {{i}},
      {%endfor%}</p> <br>
      <br>
      {{form.final_submit}}
  </form>
</body>
</html>